---
// Home page with master controls and active sounds list.
import Layout from '../layouts/Layout.astro';
---

<Layout title="Home - Ambience">
	<div class="space-y-8">
		<div class="text-center">
			<h1 class="text-3xl sm:text-4xl font-bold text-gray-100 mb-2">Ambience</h1>
			<p class="text-gray-400 text-sm sm:text-base">Mix and play ambient sounds</p>
		</div>

		<div class="bg-gray-800 rounded-lg p-4 sm:p-6 border border-gray-700">
			<h2 class="text-xl sm:text-2xl font-semibold text-gray-100 mb-4">Master Controls</h2>
			<div class="space-y-4">
				<div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-4">
					<button
						type="button"
						id="master-play-btn"
						class="p-3 bg-accent hover:bg-accent-600 active:bg-accent-700 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-gray-800 flex items-center justify-center"
					>
						<svg id="master-play-icon" class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
							<path d="M8 5v14l11-7z"/>
						</svg>
						<svg id="master-pause-icon" class="w-6 h-6 text-white hidden" fill="currentColor" viewBox="0 0 24 24">
							<path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
						</svg>
					</button>
					<label class="flex items-center gap-2 sm:gap-4 flex-1">
						<svg id="master-volume-speaker-icon" class="w-5 h-5 text-gray-300 flex-shrink-0" fill="currentColor" viewBox="0 0 24 24">
							<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
						</svg>
						<svg id="master-volume-muted-icon" class="w-5 h-5 text-gray-300 flex-shrink-0 hidden" fill="currentColor" viewBox="0 0 24 24">
							<path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
						</svg>
						<input
							type="range"
							min="0"
							max="1"
							step="0.01"
							value="1"
							id="master-volume-slider"
							class="flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-accent focus:outline-none"
						/>
						<span id="master-volume-value" class="text-gray-300 text-sm sm:text-base w-12 sm:w-16 text-right flex-shrink-0">100%</span>
					</label>
				</div>
			</div>
		</div>

		<div>
			<h2 class="text-xl sm:text-2xl font-semibold text-gray-100 mb-4">Active Sounds</h2>
			<div id="active-sounds-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
				<!-- Active sounds will be rendered here -->
			</div>
			<div id="no-sounds-message" class="text-center py-12 text-gray-400 hidden">
				<p class="text-lg">No sounds active</p>
				<p class="text-sm mt-2">
					Go to the <a href="/sounds" class="text-accent hover:underline">Sounds</a> page to add some!
				</p>
			</div>
		</div>
	</div>
</Layout>

<script type="module" src="/scripts/index.js"></script>
