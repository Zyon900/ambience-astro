---
interface Props {
	sound: {
		id: string;
		name: string;
		thumbnail: string;
		file: string;
	};
	mode: 'home' | 'sounds';
}

const { sound, mode } = Astro.props;
---

<div
	class="bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-accent transition-colors"
	data-sound-id={sound.id}
>
	<div class="flex items-center gap-4">
		<img
			src={sound.thumbnail}
			alt={sound.name}
			class="w-16 h-16 rounded object-cover flex-shrink-0"
		/>
		<div class="flex-1 min-w-0">
			<h3 class="text-lg font-semibold text-gray-100 truncate">{sound.name}</h3>
			{mode === 'home' && (
				<div class="mt-2 space-y-2">
					<div class="flex items-center gap-2">
						<button
							type="button"
							class="sound-mute-btn px-3 py-1 text-sm bg-gray-700 hover:bg-gray-600 rounded transition-colors flex-shrink-0"
							data-sound-id={sound.id}
						>
							<span class="mute-text">Mute</span>
						</button>
						<label class="flex items-center gap-1 sm:gap-2 flex-1 min-w-0">
							<span class="text-xs text-gray-400 w-10 sm:w-12 flex-shrink-0">Volume</span>
							<input
								type="range"
								min="0"
								max="1"
								step="0.01"
								value="0.5"
								class="sound-volume-slider flex-1 min-w-0 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-accent"
								data-sound-id={sound.id}
							/>
							<span class="sound-volume-value text-xs text-gray-400 w-10 sm:w-12 text-right flex-shrink-0">50%</span>
						</label>
					</div>
					<button
						type="button"
						class="sound-remove-btn w-full px-3 py-2 text-sm bg-red-600 hover:bg-red-700 rounded transition-colors"
						data-sound-id={sound.id}
					>
						Remove
					</button>
				</div>
			)}
			{mode === 'sounds' && (
				<div class="mt-2 space-y-2">
					<div class="flex items-center gap-2">
						<button
							type="button"
							class="sound-play-btn px-3 py-1 text-sm bg-accent hover:bg-accent-600 rounded transition-colors flex-shrink-0"
							data-sound-id={sound.id}
						>
							<span class="play-text">Play</span>
						</button>
						<label class="flex items-center gap-1 sm:gap-2 flex-1 min-w-0">
							<span class="text-xs text-gray-400 w-10 sm:w-12 flex-shrink-0">Volume</span>
							<input
								type="range"
								min="0"
								max="1"
								step="0.01"
								value="0.5"
								class="sound-volume-slider flex-1 min-w-0 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-accent"
								data-sound-id={sound.id}
							/>
							<span class="sound-volume-value text-xs text-gray-400 w-10 sm:w-12 text-right flex-shrink-0">50%</span>
						</label>
					</div>
					<button
						type="button"
						class="sound-add-btn w-full px-3 py-2 text-sm bg-accent hover:bg-accent-600 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
						data-sound-id={sound.id}
					>
						Add to Mix
					</button>
				</div>
			)}
		</div>
	</div>
</div>
